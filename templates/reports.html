{% extends "base.html" %}

{% block title %}Reports{% endblock %}

{% block content %}
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<h1 style="margin-bottom: 2rem;">Business Reports</h1>

<div style="display: grid; gap: 30px;">

    <!-- Sales Analytics Chart -->
    <div class="glass-panel" style="padding: 20px;">
        <h2 style="margin-bottom: 20px;"><i class="fas fa-chart-area"></i> Sales Analytics (Last 7 Days)</h2>
        <canvas id="salesChart" data-labels='{{ chart_labels | tojson | safe }}'
            data-values='{{ chart_data | tojson | safe }}' style="max-height: 300px;"></canvas>
    </div>

    <!-- Low Stock Alert -->
    <div class="glass-panel" style="padding: 20px; border: 1px solid var(--danger-color);">
        <h2 style="margin-bottom: 20px; color: var(--danger-color);"><i class="fas fa-exclamation-circle"></i> Low Stock
            Alerts</h2>
        <div class="table-container">
            <table id="low-stock-table">
                <thead>
                    <tr>
                        <th>Product Name</th>
                        <th>Category</th>
                        <th>Current Stock</th>
                        <th>Supplier</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td colspan="4" style="text-align: center;">Loading stock alerts...</td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
    <!-- Other reports can be added similarly -->
</div>
{% endblock %}

{% block scripts %}
<!-- Chart rendering is now handled by platform.js -->
{% endblock %}